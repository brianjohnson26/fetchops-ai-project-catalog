"use strict";(()=>{var e={};e.id=142,e.ids=[142],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4681:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>w,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>c});var o={};t.r(o),t.d(o,{POST:()=>p});var s=t(6751),a=t(1854),d=t(5579),i=t(2507),n=t(3267);async function p(e,{params:r}){if(e.cookies.get("admin_session")?.value!=="1"){let r=e.headers.get("x-forwarded-proto")||"https",t=e.headers.get("x-forwarded-host")||e.nextUrl.host,o=`${r}://${t}`;return i.NextResponse.redirect(new URL("/admin?err=signin",o),303)}let t=Number(r.id);await n._.link.deleteMany({where:{projectId:t}}),await n._.projectTool.deleteMany({where:{projectId:t}}),await n._.project.delete({where:{id:t}});let o=e.headers.get("x-forwarded-proto")||"https",s=e.headers.get("x-forwarded-host")||e.nextUrl.host,a=`${o}://${s}`;return i.NextResponse.redirect(new URL("/projects?deleted=1",a),303)}let l=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/projects/[id]/delete/route",pathname:"/projects/[id]/delete",filename:"route",bundlePath:"app/projects/[id]/delete/route"},resolvedPagePath:"/home/runner/workspace/src/app/projects/[id]/delete/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:h}=l,m="/projects/[id]/delete/route";function w(){return(0,d.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:c})}},3267:(e,r,t)=>{t.d(r,{_:()=>s});let o=require("@prisma/client"),s=global.prisma||new o.PrismaClient({log:["warn","error"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[357,395],()=>t(4681));module.exports=o})();